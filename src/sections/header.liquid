<div class="is-fixed width--full js-theme__header--container theme__header--container">
  <div class="theme__promotion-bar bg-grey flex align-center justify-center text-white text--small">
    <p>Free Shipping on Orders Over $125</p>
  </div>
  <!-- DESKTOP NAV -->
  <div class="theme__navigation medium-down--hide">
    <div class="flex align-center">
      <div class="navigation__logo--container">
        <h2 class="text--bold text--extra-large">KOKO BEAUTE</h2>
      </div>
      <div class="flex align-center">
        {%- for link in linklists['main-menu'].links -%}
        {% assign link_handle = link.title | handle %}
        {%- if linklists[link_handle].links.size > 0 -%}
          {% assign childCount = true %}
        {%- else condition -%}
          {% assign childCount = false %}
        {%- endif -%}
        {%- if linklists[link_handle].links.size > 0 -%}
          <div class="js-navigation__link navigation__link flex align-center" data-active="{{link_handle}}" data-count="{{childCount}}">
            <p class="navigation__link--text">{{ link.title }}</p>
          </div>
        {%- else condition -%}
          <a href="{{link.url}}">
            <div class="js-navigation__link navigation__link flex align-center" data-active="{{link_handle}}" data-count="{{childCount}}">
              <p class="navigation__link--text">{{ link.title }}</p>
            </div>
          </a>
        {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
    <div class="navigation__user-controls--container">
      <p class="nowrap text-light-grey">SIGN IN</p>
      <div class="">
        |
      </div>
      <div class="navigation__icons--container">
        <div class="navigation__search-icon--container">
          <img src="{{ 'icon--search.svg' | asset_url }}" alt="">
        </div>
        <div class="navigation__bag-icon--container">
          <img src="{{ 'icon--bag.svg' | asset_url }}" alt="">
        </div>
      </div>
    </div>
  </div>
  {%- include 'navigation-dropdown' -%}
  <!-- DESKTOPNAV  -->
  <!-- MOBILENAV -->
  <div class="m-theme__navigation z-depth-2 large-up--hide flex justify-between align-center psides-15">
    <div class="navigation__search--container">
      <div class="navigation__icon--container">
        <img src="{{ 'icon--search.svg' | asset_url }}" alt="">
      </div>
    </div>

    <h2 class="text--bold">KOKO BEAUTE</h2>

    <div class="flex justify-around navigation__user-controller--container align-center">
      <div class="navigation__cart--container">
        <div class="navigation__icon--container">
          <img src="{{ 'icon--bag.svg' | asset_url }}" alt="">
        </div>
      </div>
      <div class="navigation__hamburger--container js-navigation__collapse" data-activates="main-menu">
        <div class="navigation__icon--container">
          <img src="{{ 'icon--hamburger.svg' | asset_url }}" alt="">
        </div>
      </div>
    </div>
  </div>

</div>
  {% include 'sidebar' %}
<!-- MOBILENAV -->



{% comment %}
<style>
{% if section.settings.logo != blank %}
.site-header__logo-image {
max-width: {{ section.settings.logo_max_width }}px;
}
{% endif %}
</style>
<div data-section-id="{{ section.id }}" data-section-type="header-section">
<header role="banner">
{% if template.name == 'index' %}
<h1 itemscope itemtype="http://schema.org/Organization">
{% else %}
<div class="h1" itemscope itemtype="http://schema.org/Organization">
{% endif %}
<a href="/" itemprop="url" class="site-logo{% if section.settings.logo != blank %} site-header__logo-image{% endif %}">
{% if section.settings.logo != blank %}
{% capture image_size %}{{ section.settings.logo_max_width }}x{% endcapture %}
<img src="{{ section.settings.logo | img_url: image_size }}"
srcset="{{ section.settings.logo | img_url: image_size }} 1x, {{ section.settings.logo | img_url: image_size, scale: 2 }} 2x"
alt="{{ section.settings.logo.alt | default: shop.name }}"
itemprop="logo">
{% else %}
{{ shop.name }}
{% endif %}
</a>
{% if template.name == 'index' %}
</h1>
{% else %}
</div>
{% endif %}

<a href="/cart">
{% include 'icon-cart' %}
{{ 'layout.cart.title' | t }}
({{ cart.item_count }} {{ 'layout.cart.items_count' | t: count: cart.item_count }})
</a>

{% if shop.customer_accounts_enabled %}
<ul>
{% if customer %}
<li>
{% if customer.first_name != blank %}
{% capture first_name %}<a href="/account">{{ customer.first_name }}</a>{% endcapture %}
{{ 'layout.customer.logged_in_as_html' | t: first_name: first_name }}
{% else %}
<a href="/account">{{ 'layout.customer.account' | t }}</a>
{% endif %}
</li>
<li>
{{ 'layout.customer.log_out' | t | customer_logout_link }}
</li>
{% else %}
<li>
{{ 'layout.customer.log_in' | t | customer_login_link }}
</li>
<li>
{{ 'layout.customer.create_account' | t | customer_register_link }}
</li>
{% endif %}
</ul>
{% endif %}

<form action="/search" method="get" role="search">
<label for="Search" class="label-hidden">
{{ 'general.search.placeholder' | t }}
</label>
<input type="search"
name="q"
id="Search"
value="{{ search.terms | escape }}"
placeholder="{{ 'general.search.placeholder' | t }}">
<button type="submit" class="btn">
{% include 'icon-search' %}
<span class="icon-fallback-text">{{ 'general.search.submit' | t }}</span>
</button>
</form>

</header>

<nav role="navigation">
<ul class="site-nav">
{% for link in linklists[section.settings.main_linklist].links %}
{%- assign child_list_handle = link.title | handleize -%}
{% if menus[child_list_handle].links != blank %}
<li class="site-nav--has-submenu{% if link.active %} site-nav--active{% endif %}">
<a href="{{ link.url }}" class="site-nav__link">
{{ link.title }}
{% include 'icon-arrow-down' %}
</a>
<ul class="site-nav__submenu">
{% for childlink in menus[child_list_handle].links %}
<li {% if childlink.active %}class="site-nav--active"{% endif %}>
<a href="{{ childlink.url }}" class="site-nav__link">{{ childlink.title | escape }}</a>
</li>
{% endfor %}
</ul>
</li>
{% else %}
<li {% if link.active %}class="site-nav--active"{% endif %}>
<a href="{{ link.url }}" class="site-nav__link">{{ link.title }}</a>
</li>
{% endif %}
{% endfor %}
</ul>
</nav>
</div>


{% endcomment %}
{% schema %}
{
  "name": "Header",
  "settings": [
  {
    "type": "image_picker",
    "id": "logo",
    "label": "Logo image"
  },
  {
    "type": "range",
    "id": "logo_max_width",
    "min": 50,
    "max": 450,
    "step": 10,
    "unit": "px",
    "label": "Custom logo width",
    "default": 250
  },
  {
    "type": "link_list",
    "id": "main_linklist",
    "label": "Menu",
    "default": "main-menu"
  }
  ]
}
{% endschema %}
